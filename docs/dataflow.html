---

title: Dataflow


keywords: fastai
sidebar: home_sidebar

summary: "Monitors and controls a Nifi Dataflow."
description: "Monitors and controls a Nifi Dataflow."
nb_path: "nbs/03_dataflow.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_dataflow.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="DataFlow" class="doc_header"><code>class</code> <code>DataFlow</code><a href="https://github.com/kikejimenez/nifi_api/tree/main/nifi_api/dataflow.py#L14" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>DataFlow</code>(<strong><code>dataflow_ids</code></strong>:<code>object</code>, <strong><code>delay_seconds_after_start</code></strong>:<code>int</code>=<em><code>14</code></em>, <strong><code>delay_seconds_between_checks</code></strong>:<code>int</code>=<em><code>15</code></em>)</p>
</blockquote>
<p>Monitors and controls a Nifi dataflow. The dataflow starts
 when the <strong>run</strong> method is called.</p>
<h2 id="-Parameters"> Parameters<a class="anchor-link" href="#-Parameters"> </a></h2><p>dataFlowIds: DataFlowIds
     data structure that contains all the IDs of the in/out
     processors and connections</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Uses the group processor *Test API* in the Cloudera session.</span>

<span class="c1"># 1. Turn on the  &quot;Initial&quot; and &quot;Middle&quot; processors, turn off the</span>
<span class="c1">#    &quot;Body&quot; and &quot;Final&quot; processors.</span>

<span class="c1"># 2. Generate the data structure with the connections and processors Ids</span>

<span class="kn">from</span> <span class="nn">nifi_api.environment</span> <span class="kn">import</span> <span class="n">DataFlowIds</span>
<span class="n">ids</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;in_connection&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Id&quot;</span><span class="p">:</span> <span class="s2">&quot;cc549c6e-0177-1000-ffff-ffffb5d2aba2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;First&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;out_connection&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Id&quot;</span><span class="p">:</span> <span class="s2">&quot;51ab3b24-084f-1309-0000-00001946f2c7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Final&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;in_processor&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Id&quot;</span><span class="p">:</span> <span class="s2">&quot;36c62ad6-d606-3b04-9743-d77b6249608c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;First&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;middle_processor&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Id&quot;</span><span class="p">:</span> <span class="s2">&quot;cc54862f-0177-1000-ffff-ffffe7325a20&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Middle&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;out_processor&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Id&quot;</span><span class="p">:</span> <span class="s2">&quot;51ab3b1e-084f-1309-a135-aa0100d7186b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Final&quot;</span>
    <span class="p">},</span>
<span class="p">}</span>
<span class="n">data_ids</span> <span class="o">=</span> <span class="n">DataFlowIds</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>

<span class="c1"># 4. Instantiate the DataFlow class as follows:</span>
<span class="n">test_dataflow</span> <span class="o">=</span> <span class="n">DataFlow</span><span class="p">(</span>
    <span class="n">dataflow_ids</span><span class="o">=</span><span class="n">data_ids</span><span class="p">,</span>
    <span class="n">delay_seconds_after_start</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">delay_seconds_between_checks</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Call the run method. The following events must happen:</span>
<span class="c1">#  - &quot;First&quot; and &quot;Last&quot; proccessor turn on and off, respectively.</span>
<span class="c1">#  - &quot;First&quot; processor turns off and &quot;Middle&quot; processor turns on</span>
<span class="c1">#  - &quot;Final&quot; turns on</span>

<span class="n">test_dataflow</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Pipeline watching has finished ...
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

